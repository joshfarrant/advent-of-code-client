{
  "meta": {
    "createdAt": 1764766231339
  },
  "puzzle": {
    "day": 2,
    "title": "Gift Shop"
  },
  "notes": "",
  "solutions": {
    "part1": "const parseInput = (str: string) =>\n  str.split(',').map(x => x.split('-')) as [string, string][];\n\nconst splitInHalf = (str: string) => {\n  const mid = str.length / 2;\n  return [str.slice(0, mid), str.slice(mid)];\n};\n\nconst isInvalidId = (id: string) => {\n  if (id.length % 2 !== 0) return false;\n  const [first, second] = splitInHalf(id);\n  return first === second;\n};\n\nconst sumInvalidIds = (start: string, end: string) => {\n  let total = 0;\n\n  for (let id = Number(start); id <= Number(end); id++) {\n    if (isInvalidId(String(id))) total += id;\n  }\n\n  return total;\n};\n\nexport default (input: string): number => {\n  const ranges = parseInput(input);\n\n  return ranges.reduce((sum, range) => sum + sumInvalidIds(...range), 0);\n};\n",
    "part2": "const parseInput = (str: string) =>\n  str.split(',').map(x => x.split('-')) as [string, string][];\n\nlet regexMap = new Map<number, RegExp>();\n\nconst isRepeatedString = (str: string, size: number) => {\n  let regex = regexMap.get(size);\n  if (!regex) {\n    regex = new RegExp('.{1,' + size + '}', 'g');\n    regexMap.set(size, regex);\n  }\n\n  const chunks = str.match(regex) as string[];\n  return chunks.every(x => x === chunks[0]);\n};\n\nconst isInvalidId = (id: string) => {\n  for (let factor = 1; factor <= id.length / 2; factor++) {\n    if (id.length % factor === 0 && isRepeatedString(id, factor)) return true;\n  }\n};\n\nconst sumInvalidIds = (start: string, end: string) => {\n  let total = 0;\n\n  let id = Number(start);\n  while (id <= Number(end)) {\n    if (isInvalidId(String(id))) {\n      total += id;\n    }\n    id++;\n  }\n\n  return total;\n};\n\nexport default (input: string) =>\n  parseInput(input).reduce((sum, range) => sum + sumInvalidIds(...range), 0);\n"
  }
}